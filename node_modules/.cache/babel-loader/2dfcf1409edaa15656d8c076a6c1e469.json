{"ast":null,"code":"import _defineProperty from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/marwan01/Desktop/Athlytics/src/components/SignUp/index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\nimport { Form, Radio, Button, Grid, Header, Message, Checkbox, Dropdown } from 'semantic-ui-react';\n\nvar SignUpPage = function SignUpPage() {\n  return React.createElement(Grid, {\n    centered: true,\n    columns: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h2\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(SignUpForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  })));\n};\n\nvar INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  sport: null,\n  error: null\n};\nvar ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\nvar ERROR_MSG_ACCOUNT_EXISTS = \"\\n  An account with this E-Mail address already exists.\\n  Try to login with this account instead. If you think the\\n  account is already used from one of the social logins, try\\n  to sign in with one of them. Afterward, associate your accounts\\n  on your personal account page.\\n\";\n\nvar SignUpFormBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpFormBase, _Component);\n\n  function SignUpFormBase(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpFormBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpFormBase).call(this, props));\n\n    _this.handleChange = function (e, _ref) {\n      var value = _ref.value;\n\n      if (value == 'Choose Team:') {\n        _this.setState({\n          isAdmin: false\n        });\n      }\n\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleTeamChange = function (e, _ref2) {\n      var value = _ref2.value;\n      return _this.setState({\n        sport: value\n      });\n    };\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne,\n          isAdmin = _this$state.isAdmin,\n          sport = _this$state.sport;\n      var roles = [];\n      console.log(_this.state);\n\n      if (isAdmin) {\n        roles.push(ROLES.ADMIN);\n      }\n\n      _this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(function (authUser) {\n        // Create a user in your Firebase realtime database\n        return _this.props.firebase.user(authUser.user.uid).set({\n          username: username,\n          email: email,\n          roles: roles,\n          sport: sport\n        });\n      }).then(function () {\n        return _this.props.firebase.doSendEmailVerification();\n      }).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        _this.props.history.push(ROUTES.HOME);\n      }).catch(function (error) {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      console.log(event.target.value);\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.validateCode = function (event) {\n      _this.setState({\n        sport: ''\n      });\n\n      if (event.target.value == \"secretcode\") {\n        _this.setState({\n          isAdmin: true\n        });\n\n        console.log(\"success\");\n      } else {\n        _this.setState({\n          isAdmin: true\n        });\n      }\n    };\n\n    _this.onChangeCheckbox = function () {\n      _this.setState({\n        isAdmin: !_this.state.isAdmin\n      });\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignUpFormBase, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          passwordTwo = _this$state2.passwordTwo,\n          isAdmin = _this$state2.isAdmin,\n          sport = _this$state2.sport,\n          error = _this$state2.error;\n      var isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\n      var options = [{\n        key: 'soccer',\n        text: 'Soccer',\n        value: 'soccer'\n      }, {\n        key: 'baseball',\n        text: 'Baseball',\n        value: 'baseball'\n      }, {\n        key: 'tennis',\n        text: 'Tennis',\n        value: 'tennis'\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, error && React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, error.message)), React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        name: \"username\",\n        value: username,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"Full Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        name: \"passwordOne\",\n        value: passwordOne,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(\"input\", {\n        name: \"passwordTwo\",\n        value: passwordTwo,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        label: \"Student\",\n        name: \"radioGroup\",\n        value: \"Choose Team:\",\n        checked: this.state.value === 'Choose Team:',\n        onChange: this.handleChange,\n        defaultChecked: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        label: \"Coach\",\n        name: \"radioGroup\",\n        value: \"Enter Secret Seed:\",\n        checked: this.state.value === 'Enter Secret Seed:',\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), this.state.value == \"Choose Team:\" && React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Pick a sport:\"), React.createElement(Dropdown, {\n        placeholder: \"Sport\",\n        search: true,\n        selection: true,\n        options: options,\n        onChange: this.handleTeamChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), this.state.value == \"Enter Secret Seed:\" && React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, this.state.value), React.createElement(\"input\", {\n        name: \"notemail\" // value={email}\n        ,\n        onChange: this.validateCode,\n        type: \"text\",\n        placeholder: \"Value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      })), React.createElement(Button, {\n        primary: true,\n        disabled: isInvalid,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Sign Up\")));\n    }\n  }]);\n\n  return SignUpFormBase;\n}(Component);\n\nvar SignUpLink = function SignUpLink() {\n  return React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, \"Don't have an account? \", React.createElement(Link, {\n    to: ROUTES.SIGN_UP,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, \"Sign Up\"));\n};\n\nvar SignUpForm = withRouter(withFirebase(SignUpFormBase));\nexport default SignUpPage;\nexport { SignUpForm, SignUpLink };","map":{"version":3,"sources":["/Users/marwan01/Desktop/Athlytics/src/components/SignUp/index.js"],"names":["React","Component","Link","withRouter","withFirebase","ROUTES","ROLES","Form","Radio","Button","Grid","Header","Message","Checkbox","Dropdown","SignUpPage","INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","sport","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","props","handleChange","e","value","setState","handleTeamChange","onSubmit","event","state","roles","console","log","push","ADMIN","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","doSendEmailVerification","history","HOME","catch","code","message","preventDefault","onChange","target","name","validateCode","onChangeCheckbox","isInvalid","options","key","text","SignUpLink","SIGN_UP","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\nimport {\n  Form,\n  Radio,\n  Button,\n  Grid,\n  Header,\n  Message,\n  Checkbox,\n  Dropdown\n} from 'semantic-ui-react';\n\nconst SignUpPage = () => (\n  <Grid centered columns={2}>\n    <Grid.Column>\n      <Header as=\"h2\" textAlign=\"center\">\n        Sign Up\n      </Header>\n      <SignUpForm />\n    </Grid.Column>\n  </Grid>\n);\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  sport: null,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  handleChange = (e, { value }) => {\n  if(value == 'Choose Team:'){\n    this.setState({isAdmin:false})\n  }\n\n\n    this.setState({  value })}\n    handleTeamChange = (e, { value }) => this.setState({ sport: value  })\n\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin,sport } = this.state;\n    const roles = [];\n    console.log(this.state)\n    if (isAdmin) {\n      roles.push(ROLES.ADMIN);\n    }\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n          roles,\n          sport\n        });\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    console.log(event.target.value )\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  validateCode = event => {\n    this.setState({sport:''})\n    if (event.target.value == \"secretcode\")\n{    this.setState({isAdmin: true });\nconsole.log(\"success\" )\n} \nelse{\n  this.setState({isAdmin: true })}\n };\n\n  onChangeCheckbox = () => {\n    this.setState({ isAdmin: !this.state.isAdmin });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      isAdmin,\n      sport,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n      const options = [\n        { key: 'soccer', text: 'Soccer', value: 'soccer' },\n        { key: 'baseball', text: 'Baseball', value: 'baseball' },\n        { key: 'tennis', text: 'Tennis', value: 'tennis' }\n      ]\n\n    return (\n      <div>\n        {error && (\n          <Message negative>\n            <p>{error.message}</p>\n          </Message>\n        )}\n        <Form onSubmit={this.onSubmit}>\n          <Form.Field>\n            <label>Username</label>\n            <input\n              name=\"username\"\n              value={username}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Full Name\"\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Email</label>\n            <input\n              name=\"email\"\n              value={email}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Email Address\"\n            />\n          </Form.Field>\n            <Form.Field>\n              <label>Password</label>\n              <input\n                name=\"passwordOne\"\n                value={passwordOne}\n                onChange={this.onChange}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            </Form.Field>\n            <Form.Field>\n              <label>Confirm Password</label>\n              <input\n                name=\"passwordTwo\"\n                value={passwordTwo}\n                onChange={this.onChange}\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n              />\n            </Form.Field>\n            <Form.Field>\n              <Radio\n                label='Student'\n                name='radioGroup'\n                value='Choose Team:'\n                checked={this.state.value === 'Choose Team:'}\n                onChange={this.handleChange}\n                defaultChecked\n              />\n            </Form.Field>\n            <Form.Field>\n              <Radio\n                label='Coach'\n                name='radioGroup'\n                value='Enter Secret Seed:'\n                checked={this.state.value === 'Enter Secret Seed:'}\n                onChange={this.handleChange}\n              />\n            </Form.Field>\n\n            {this.state.value == \"Choose Team:\"&& (\n                <Form.Field>         \n                <label>{\"Pick a sport:\"}</label>\n                <Dropdown placeholder='Sport' \n                search \n                selection \n                options={options} \n                onChange={this.handleTeamChange}\n                />\n\n            </Form.Field>\n            )}\n            {this.state.value == \"Enter Secret Seed:\"&& (\n                <Form.Field>         \n                <label>{this.state.value}</label>\n                <input\n                  name=\"notemail\"\n                  // value={email}\n                  onChange={this.validateCode}\n                  type=\"text\"\n                  placeholder=\"Value\"\n                />\n            </Form.Field>\n            )}\n          <Button primary disabled={isInvalid} type=\"submit\">\n            Sign Up\n          </Button>\n\n        </Form>\n      </div>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };\n"]},"metadata":{},"sourceType":"module"}