{"ast":null,"code":"import _classCallCheck from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/marwan01/Desktop/Athlytics/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/marwan01/Desktop/Athlytics/src/components/Calendar/index.js\";\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\nimport { withAuthorization, withEmailVerification, AuthUserContext } from '../Session';\nimport BigCalendar from 'react-big-calendar';\nimport moment from 'moment';\nimport events from './events';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { Button, Header, Image, Modal, Icon, Form, Divider } from 'semantic-ui-react'; //fmkdfjklnglekdjmlefg.agnrfjr\n\nvar teams = [{\n  key: 'Women soccer',\n  text: 'Women Soccer',\n  value: 'Women soccer'\n}, {\n  key: 'Men soccer',\n  text: 'Men Soccer',\n  value: 'Men soccer'\n}, {\n  key: 'Softball',\n  text: 'Softball',\n  value: 'Softball'\n}, {\n  key: 'Men baseball',\n  text: 'Men Baseball',\n  value: 'Men baseball'\n}, {\n  key: 'Women tennis',\n  text: 'Women Tennis',\n  value: 'Women tennis'\n}, {\n  key: 'Men tennis',\n  text: 'Men Tennis',\n  value: 'Men tennis'\n}, {\n  key: 'Women basketball',\n  text: 'Women Basketball',\n  value: 'Women basketball'\n}, {\n  key: 'Men basketball',\n  text: 'Men Basketball',\n  value: 'Men basketball'\n}, {\n  key: 'Women diving',\n  text: 'Women Diving',\n  value: 'Women diving'\n}, {\n  key: 'Men diving',\n  text: 'Men Diving',\n  value: 'Men diving'\n}, {\n  key: 'Women cross country',\n  text: 'Women Cross Country',\n  value: 'Women cross country'\n}, {\n  key: 'Men cross country',\n  text: 'Men Cross Country',\n  value: 'Men cross country'\n}, {\n  key: 'Women track and field',\n  text: 'Women Track and Field',\n  value: 'Women track and field'\n}, {\n  key: 'Men track and field',\n  text: 'Men Track and Field',\n  value: 'Men track and field'\n}, {\n  key: 'Women golf',\n  text: 'Women Golf',\n  value: 'Women golf'\n}, {\n  key: 'Men golf',\n  text: 'Men Golf',\n  value: 'Men golf'\n}, {\n  key: 'Women ice hockey',\n  text: 'Women Ice Hockey',\n  value: 'Women ice hockey'\n}, {\n  key: 'Men ice hockey',\n  text: 'Men Ice Hockey',\n  value: 'Men ice hockey'\n}, {\n  key: 'Field Hockey',\n  text: 'Field Hockey',\n  value: 'Field hockey'\n}, {\n  key: 'Women lacrosse',\n  text: 'Women Lacrosse',\n  value: 'Women lacrosse'\n}, {\n  key: 'Men lacrosse',\n  text: 'Men Lacrosse',\n  value: 'Men lacrosse'\n}, {\n  key: 'Women rugby',\n  text: 'Women Rugby',\n  value: 'Women rugby'\n}, {\n  key: 'Men rugby',\n  text: 'Men Rugby',\n  value: 'Men rugby'\n}, {\n  key: 'Women swimming',\n  text: 'Women Swimming',\n  value: 'Women swimming'\n}, {\n  key: 'Men swimming',\n  text: 'Men Swimming',\n  value: 'Men swimming'\n}, {\n  key: 'Synchronized swimming',\n  text: 'Synchronized Swimming',\n  value: 'Synchronized swimming'\n}, {\n  key: 'Women volleyball',\n  text: 'Women Volleyball',\n  value: 'Women volleyball'\n}, {\n  key: 'Men volleyball',\n  text: 'Men Volleyball',\n  value: 'Men volleyball'\n}, {\n  key: 'Women water polo',\n  text: 'Women Water Polo',\n  value: 'Women water polo'\n}, {\n  key: 'Men water polo',\n  text: 'Men Water Polo',\n  value: 'Men water polo'\n}, {\n  key: 'Women wrestling',\n  text: 'Women Wrestling',\n  value: 'Women wrestling'\n}, {\n  key: 'Men wrestling',\n  text: 'Men Wrestling',\n  value: 'Men wrestling'\n}, {\n  key: 'Gymnastics',\n  text: 'Gymnastics',\n  value: 'Gymnastics'\n}];\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Calendar, _React$Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, props = new Array(_len), _key = 0; _key < _len; _key++) {\n      props[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(props)));\n\n    _this.ciao = function () {\n      var token = JSON.parse(localStorage.getItem('authUser'));\n\n      _this.props.firebase.user(token.uid).once('value').then(function (snapshot) {\n        var dbUser = snapshot.val();\n        var w = dbUser.workouts;\n\n        if (w) {\n          var newArrayDataOfOjbect = Object.values(w);\n          console.log(newArrayDataOfOjbect);\n          newArrayDataOfOjbect.forEach(function (element) {\n            element.end = new Date(element.end);\n            element.start = new Date(element.start);\n          });\n          console.log(newArrayDataOfOjbect); // console.log(myData)\n\n          _this.setState({\n            events: newArrayDataOfOjbect\n          });\n        }\n      });\n    };\n\n    _this.handleSelect = function (_ref) {\n      var start = _ref.start,\n          end = _ref.end;\n      // const title = window.prompt('New Event name')\n      // if (title)\n      //   this.setState({\n      //     events: [\n      //       ...this.state.events,\n      //       {\n      //         start,\n      //         end,\n      //         title,\n      //       },\n      //     ],\n      //   })\n      var workout_copy = _this.state.workout;\n      workout_copy['start'] = start.toString();\n      workout_copy['end'] = end.toString();\n\n      _this.setState({\n        open: true\n      });\n\n      _this.setState({\n        workout: workout_copy\n      });\n    };\n\n    _this.addWorkout = function (uid) {\n      // let workout = {\n      //   title: 'test2',\n      //   start: \"April 19, 2019 11:00:00\",\n      //   end: \"April 19, 2019 19:30:00\",\n      //   exercises: [\n      //     {\n      //       name: \"curls\",\n      //       reps: \"25\",\n      //       weight: '20lb'\n      //     }, {\n      //       name: \"squats\",\n      //       reps: \"4\",\n      //       weight: '200lb'\n      //     }\n      //   ]\n      // }\n      var workout = _this.state.workout;\n      console.log(workout); //DATE DOES NOT GET SEND\n\n      var ui = workout.workoutName + workout.start; // workouts.push(workout[0])\n\n      console.log(uid);\n\n      _this.props.firebase.user_workout(uid, ui).set(workout);\n\n      _this.setState({\n        open: !_this.state.open\n      });\n    };\n\n    _this.getStudentsBySport = function () {\n      _this.props.firebase.users().on('value', function (snapshot) {\n        var users = snapshot.val();\n        var newArrayDataOfOjbect = Object.values(users);\n        var local_sport = \"Women soccer\";\n        var uids_to_update = [];\n        var keys = Object.keys(users);\n\n        for (var i = 0; i < newArrayDataOfOjbect.length - 1; i++) {\n          var user = newArrayDataOfOjbect[i];\n\n          if (user.sport == _this.state.workout.sport) {\n            console.log(\"match\");\n            uids_to_update.push(keys[i]);\n          }\n        }\n\n        console.log(uids_to_update);\n        uids_to_update.map(function (uid) {\n          _this.addWorkout(uid);\n        }); // for (var i = 0; i < uids_to_update.length-1; i++) {\n        //   this.addWorkout(uids_to_update[i])\n        // }\n      });\n    };\n\n    _this.handleChange = function (exercise_index, event) {\n      var field_to_change = event.target.name;\n      var workout_copy = _this.state.workout;\n      workout_copy.exercises[exercise_index][field_to_change] = event.target.value;\n\n      _this.setState({\n        workout: workout_copy\n      });\n    };\n\n    _this.addField = function () {\n      var last = _this.state.fields[_this.state.fields.length - 1];\n      var arr = _this.state.fields;\n      arr.push(last + 1);\n\n      _this.setState({\n        fields: arr\n      });\n\n      var w = _this.state.workout;\n      var default_exercise = {\n        exerciseName: '',\n        reps: '',\n        weight: ''\n      };\n      w.exercises.push(default_exercise);\n\n      _this.setState({\n        workout: w\n      });\n    };\n\n    _this.show = function (dimmer) {\n      return function () {\n        return _this.setState({\n          dimmer: dimmer,\n          open: true\n        });\n      };\n    };\n\n    _this.close = function () {\n      return _this.setState({\n        open: !_this.state.open\n      });\n    };\n\n    _this.state = {\n      open: false,\n      events: events,\n      fields: [0],\n      workout: {\n        workoutName: '',\n        sport: '',\n        start: new Date(),\n        end: new Date(),\n        exercises: [{\n          exerciseName: '',\n          reps: '',\n          weight: ''\n        }]\n      }\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addWorkout = _this.addWorkout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addField = _this.addField.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(events[0]); //this.ciao()\n    }\n  }, {\n    key: \"render\",\n    // confirm = () => this.setState({ workout: {} })\n    value: function render() {\n      var _this2 = this;\n\n      var localizer = BigCalendar.momentLocalizer(moment); // or globalizeLocalizer\n\n      return React.createElement(AuthUserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, function (authUser) {\n        return React.createElement(\"div\", {\n          style: {\n            height: '750px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, \"Account: \", authUser.email), React.createElement(BigCalendar, {\n          selectable: true,\n          localizer: localizer,\n          startAccessor: \"start\",\n          endAccessor: \"end\",\n          events: _this2.state.events,\n          defaultView: BigCalendar.Views.WEEK,\n          scrollToTime: new Date(1970, 1, 1, 6),\n          defaultDate: new Date(2019, 3, 12),\n          onSelectEvent: function onSelectEvent(event) {\n            return alert(event.title);\n          },\n          onSelectSlot: _this2.handleSelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          open: _this2.state.open,\n          onClose: _this2.close,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"trophy\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }), \"Create and assign a new workout for \\\"mm/dd/yyyy and given time(display here)\\\"\")), React.createElement(Modal.Content, {\n          image: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(Image, {\n          wrapped: true,\n          size: \"small\",\n          src: require('./../../img/exercise.png'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }), React.createElement(Modal.Description, {\n          image: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, React.createElement(Form.Input, {\n          label: \"Workout Name\",\n          onChange: function onChange(e) {\n            var workout_copy = _this2.state.workout;\n            workout_copy['workoutName'] = e.target.value;\n\n            _this2.setState({\n              workout: workout_copy\n            });\n          },\n          placeholder: \"Upper Body Workout\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }), React.createElement(Form.Select, {\n          onChange: function onChange(e, _ref2) {\n            var value = _ref2.value;\n            var workout_copy = _this2.state.workout;\n            workout_copy['sport'] = value;\n\n            _this2.setState({\n              workout: workout_copy\n            });\n          },\n          label: \"Assign to\",\n          options: teams,\n          placeholder: \"Team\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }))))), React.createElement(Divider, {\n          horizontal: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, \"Exercises\"), _this2.state.fields.map(function (i) {\n          return React.createElement(Line, {\n            handleChange: _this2.handleChange,\n            state: _this2.state,\n            index: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 271\n            },\n            __self: this\n          }, \" \");\n        }), React.createElement(Modal.Content, {\n          image: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(Button, {\n          icon: true,\n          onClick: _this2.addField,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"plus\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }))), React.createElement(Modal.Actions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(Button, {\n          color: \"black\",\n          onClick: _this2.close,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, \"Cancel\"), React.createElement(Button, {\n          positive: true,\n          icon: \"arrow right\",\n          labelPosition: \"right\",\n          content: \"Confirm\",\n          onClick: _this2.getStudentsBySport,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        })))));\n      });\n    }\n  }]);\n\n  return Calendar;\n}(React.Component); // Setup the localizer by providing the moment (or globalize) Object\n// to the correct localizer.\n\n\nvar Line =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Line, _React$Component2);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var index = this.props.index;\n      var exercise_path_in_state = this.props.state.workout.exercises[index];\n      return React.createElement(Modal.Content, {\n        image: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(Form, {\n        image: true,\n        size: 'big',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, index + 1, \".\"), React.createElement(Form.Input, {\n        name: \"exerciseName\",\n        value: exercise_path_in_state.exerciseName,\n        onChange: function onChange(e) {\n          return _this3.props.handleChange(index, e);\n        },\n        label: \"Exercise Name\",\n        placeholder: \"Push Ups\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        name: \"reps\",\n        value: exercise_path_in_state.reps,\n        onChange: function onChange(e) {\n          return _this3.props.handleChange(index, e);\n        },\n        label: \"Reps\",\n        placeholder: \"8x3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        name: \"weight\",\n        value: exercise_path_in_state.weight,\n        onChange: function onChange(e) {\n          return _this3.props.handleChange(index, e);\n        },\n        label: \"Weight (lb)\",\n        placeholder: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Line;\n}(React.Component);\n\nvar condition = function condition(authUser) {\n  return authUser && authUser.roles.includes(ROLES.ADMIN);\n};\n\nexport default compose(withEmailVerification, withAuthorization(condition))(Calendar);","map":{"version":3,"sources":["/Users/marwan01/Desktop/Athlytics/src/components/Calendar/index.js"],"names":["React","Switch","Route","compose","ROUTES","ROLES","withAuthorization","withEmailVerification","AuthUserContext","BigCalendar","moment","events","Button","Header","Image","Modal","Icon","Form","Divider","teams","key","text","value","Calendar","props","ciao","token","JSON","parse","localStorage","getItem","firebase","user","uid","once","then","snapshot","dbUser","val","w","workouts","newArrayDataOfOjbect","Object","values","console","log","forEach","element","end","Date","start","setState","handleSelect","workout_copy","state","workout","toString","open","addWorkout","ui","workoutName","user_workout","set","getStudentsBySport","users","on","local_sport","uids_to_update","keys","i","length","sport","push","map","handleChange","exercise_index","event","field_to_change","target","name","exercises","addField","last","fields","arr","default_exercise","exerciseName","reps","weight","show","dimmer","close","bind","localizer","momentLocalizer","authUser","height","email","Views","WEEK","alert","title","require","e","Component","Line","index","exercise_path_in_state","condition","roles","includes","ADMIN"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\nimport { withAuthorization, withEmailVerification,AuthUserContext } from '../Session';\nimport BigCalendar from 'react-big-calendar'\nimport moment from 'moment'\nimport events from './events'\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport { Button, Header, Image, Modal, Icon, Form, Divider } from 'semantic-ui-react'\n\n\n//fmkdfjklnglekdjmlefg.agnrfjr\nconst teams = [\n  { key: 'Women soccer', text: 'Women Soccer', value: 'Women soccer' },\n  { key: 'Men soccer', text: 'Men Soccer', value: 'Men soccer' },\n  { key: 'Softball', text: 'Softball', value: 'Softball' },\n  { key: 'Men baseball', text: 'Men Baseball', value: 'Men baseball' },\n  { key: 'Women tennis', text: 'Women Tennis', value: 'Women tennis' },\n  { key: 'Men tennis', text: 'Men Tennis', value: 'Men tennis' },\n  { key: 'Women basketball', text: 'Women Basketball', value: 'Women basketball' },\n  { key: 'Men basketball', text: 'Men Basketball', value: 'Men basketball' },\n  { key: 'Women diving', text: 'Women Diving', value: 'Women diving' },\n  { key: 'Men diving', text: 'Men Diving', value: 'Men diving' },\n  { key: 'Women cross country', text: 'Women Cross Country', value: 'Women cross country' },\n  { key: 'Men cross country', text: 'Men Cross Country', value: 'Men cross country' },\n  { key: 'Women track and field', text: 'Women Track and Field', value: 'Women track and field' },\n  { key: 'Men track and field', text: 'Men Track and Field', value: 'Men track and field' },\n  { key: 'Women golf', text: 'Women Golf', value: 'Women golf' },\n  { key: 'Men golf', text: 'Men Golf', value: 'Men golf' },\n  { key: 'Women ice hockey', text: 'Women Ice Hockey', value: 'Women ice hockey' },\n  { key: 'Men ice hockey', text: 'Men Ice Hockey', value: 'Men ice hockey' },\n  { key: 'Field Hockey', text: 'Field Hockey', value: 'Field hockey' },\n  { key: 'Women lacrosse', text: 'Women Lacrosse', value: 'Women lacrosse' },\n  { key: 'Men lacrosse', text: 'Men Lacrosse', value: 'Men lacrosse' },\n  { key: 'Women rugby', text: 'Women Rugby', value: 'Women rugby' },\n  { key: 'Men rugby', text: 'Men Rugby', value: 'Men rugby' },\n  { key: 'Women swimming', text: 'Women Swimming', value: 'Women swimming' },\n  { key: 'Men swimming', text: 'Men Swimming', value: 'Men swimming' },\n  { key: 'Synchronized swimming', text: 'Synchronized Swimming', value: 'Synchronized swimming' },\n  { key: 'Women volleyball', text: 'Women Volleyball', value: 'Women volleyball' },\n  { key: 'Men volleyball', text: 'Men Volleyball', value: 'Men volleyball' },\n  { key: 'Women water polo', text: 'Women Water Polo', value: 'Women water polo' },\n  { key: 'Men water polo', text: 'Men Water Polo', value: 'Men water polo' },\n  { key: 'Women wrestling', text: 'Women Wrestling', value: 'Women wrestling' },\n  { key: 'Men wrestling', text: 'Men Wrestling', value: 'Men wrestling' },\n  { key: 'Gymnastics', text: 'Gymnastics', value: 'Gymnastics' },\n]\n\n\nclass Calendar extends React.Component {\n  constructor(...props) {\n    super(...props)\n    this.state = {\n      open: false,\n\n      events:events,\n      fields: [0],\n\n      workout: {\n        workoutName: '',\n        sport: '',\n        start : new Date(),\n        end : new Date(),\n        exercises: [\n          {\n            exerciseName: '', reps: '', weight: '',\n          }\n        ],\n      }\n\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.addWorkout = this.addWorkout.bind(this);\n    this.addField = this.addField.bind(this);\n  }\ncomponentDidMount(){\n  console.log(events[0])\n  //this.ciao()\n}\n  ciao = () =>{\n    let token = JSON.parse(localStorage.getItem('authUser'))\n    this.props.firebase.user(token.uid)\n    .once('value')\n    .then(snapshot => {\n      const dbUser = snapshot.val();\n      let w = dbUser.workouts\n      if (w){\n        var newArrayDataOfOjbect = Object.values(w)\n        console.log(newArrayDataOfOjbect)\n        newArrayDataOfOjbect.forEach(function(element) {\n          element.end = new Date(element.end)\n          element.start = new Date(element.start)\n          \n        });\n        console.log(newArrayDataOfOjbect)\n  \n      // console.log(myData)\n  \n        this.setState({events: newArrayDataOfOjbect})\n      }\n\n\n    });\n\n  }\n\n  handleSelect = ({ start, end }) => {\n    // const title = window.prompt('New Event name')\n    // if (title)\n    //   this.setState({\n    //     events: [\n    //       ...this.state.events,\n    //       {\n    //         start,\n    //         end,\n    //         title,\n    //       },\n    //     ],\n    //   })\n    let workout_copy = this.state.workout\n    workout_copy['start']= start.toString()\n    workout_copy['end']= end.toString()\n    this.setState({open:true})\n    this.setState({workout:workout_copy})\n\n\n  }\n\n  addWorkout = (uid) => {\n    // let workout = {\n    //   title: 'test2',\n    //   start: \"April 19, 2019 11:00:00\",\n    //   end: \"April 19, 2019 19:30:00\",\n    //   exercises: [\n    //     {\n    //       name: \"curls\",\n    //       reps: \"25\",\n    //       weight: '20lb'\n    //     }, {\n    //       name: \"squats\",\n    //       reps: \"4\",\n    //       weight: '200lb'\n    //     }\n    //   ]\n    // }\n    let workout = this.state.workout\n    console.log(workout)\n\n    //DATE DOES NOT GET SEND\n    let ui = workout.workoutName + workout.start\n\n    // workouts.push(workout[0])\n    console.log(uid)\n    this.props.firebase.user_workout(uid, ui).set(workout)\n    this.setState({ open: !this.state.open })\n\n  }\n\n  getStudentsBySport = () => {\n\n    this.props.firebase\n      .users()\n      .on('value', snapshot => {\n        const users = snapshot.val();\n        let newArrayDataOfOjbect = Object.values(users)\n        let local_sport = \"Women soccer\"\n        let uids_to_update = []\n        let keys = Object.keys(users)\n\n        for (var i = 0; i < newArrayDataOfOjbect.length - 1; i++) {\n          let user = newArrayDataOfOjbect[i]\n          if (user.sport == this.state.workout.sport) {\n            console.log(\"match\")\n            uids_to_update.push(keys[i])\n          }\n        }\n        console.log(uids_to_update)\n        uids_to_update.map(uid => {\n          this.addWorkout(uid)\n        })\n\n        // for (var i = 0; i < uids_to_update.length-1; i++) {\n        //   this.addWorkout(uids_to_update[i])\n        // }\n\n      });\n  }\n\n\n  handleChange = (exercise_index, event) => {\n    let field_to_change = event.target.name\n    let workout_copy = this.state.workout\n    workout_copy.exercises[exercise_index][field_to_change] = event.target.value\n    this.setState({ workout: workout_copy })\n  }\n\n  addField = () => {\n    let last = this.state.fields[this.state.fields.length - 1]\n    let arr = this.state.fields\n    arr.push(last + 1)\n    this.setState({\n      fields: arr\n    });\n\n\n    let w = this.state.workout\n    let default_exercise = {\n      exerciseName: '', reps: '', weight: '',\n    }\n    w.exercises.push(default_exercise)\n    this.setState({\n      workout: w\n    });\n  };\n\n  show = dimmer => () => this.setState({ dimmer, open: true })\n  close = () => this.setState({ open: !this.state.open })\n  // confirm = () => this.setState({ workout: {} })\n\n\n  render() {\n    const localizer = BigCalendar.momentLocalizer(moment) // or globalizeLocalizer\n    return (\n          <AuthUserContext.Consumer>\n    {authUser => (\n      <div style={{height:'750px'}}>\n        <Header as=\"h2\">Account: {authUser.email}</Header>\n      <BigCalendar\n          selectable\n          localizer={localizer}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          events={this.state.events}\n          defaultView={BigCalendar.Views.WEEK}\n          scrollToTime={new Date(1970, 1, 1, 6)}\n          defaultDate={new Date(2019, 3, 12)}\n          onSelectEvent={event => alert(event.title)}\n          onSelectSlot={this.handleSelect}\n        />\n              <div>\n        <Modal open={this.state.open} onClose={this.close}>\n          <Modal.Header>\n            <div className='image'>\n              <Icon name='trophy' />\n              Create and assign a new workout for \"mm/dd/yyyy and given time(display here)\"\n            </div>\n          </Modal.Header>\n          <Modal.Content image>\n            <Image wrapped size='small' src={require('./../../img/exercise.png')} />\n            <Modal.Description image>\n              <Form>\n                <Form.Group>\n                  <Form.Input label='Workout Name' onChange={(e) => {    \n                    let workout_copy = this.state.workout\n    workout_copy['workoutName']= e.target.value\n    this.setState({workout:workout_copy})}}  placeholder='Upper Body Workout' />\n                  <Form.Select onChange={(e, { value }) => {    \n                    let workout_copy = this.state.workout\n    workout_copy['sport']= value\n    this.setState({workout:workout_copy})}} label='Assign to' options={teams} placeholder='Team' />\n                </Form.Group>\n              </Form>\n\n            </Modal.Description>\n          </Modal.Content>\n          <Divider horizontal>Exercises</Divider>\n\n          {this.state.fields.map((i) =>\n            <Line handleChange={this.handleChange} state={this.state} index={i}> </Line>\n          )\n          }\n\n          <Modal.Content image>\n            <Button icon onClick={this.addField}><Icon name='plus' /></Button>\n          </Modal.Content>\n\n          <Modal.Actions>\n            <Button color='black' onClick={this.close}>\n              Cancel\n            </Button>\n            <Button\n              positive\n              icon='arrow right'\n              labelPosition='right'\n              content=\"Confirm\"\n              onClick={this.getStudentsBySport}\n            />\n          </Modal.Actions>\n        </Modal>\n      </div>\n      </div>)}\n\n  </AuthUserContext.Consumer>\n      \n    )\n  }\n}\n\n\n// Setup the localizer by providing the moment (or globalize) Object\n// to the correct localizer.\n\n\nclass Line extends React.Component {\n  render() {\n    let index = this.props.index\n    let exercise_path_in_state = this.props.state.workout.exercises[index]\n    return (\n      <Modal.Content image>\n        <Form image size={'big'}>\n          <Form.Group>\n            <label>{index + 1}.</label>\n            <Form.Input name='exerciseName' value={exercise_path_in_state.exerciseName} onChange={(e) => this.props.handleChange(index, e)} label='Exercise Name' placeholder='Push Ups' />\n            <Form.Input name='reps' value={exercise_path_in_state.reps} onChange={(e) => this.props.handleChange(index, e)} label='Reps' placeholder='8x3' />\n            <Form.Input name='weight' value={exercise_path_in_state.weight} onChange={(e) => this.props.handleChange(index, e)} label='Weight (lb)' placeholder='45' />\n          </Form.Group>\n        </Form>\n      </Modal.Content>\n    )\n  }\n}\n\n\nconst condition = authUser =>\n  authUser && authUser.roles.includes(ROLES.ADMIN);\n\nexport default compose(\n  withEmailVerification,\n  withAuthorization(condition),\n)(Calendar);\n"]},"metadata":{},"sourceType":"module"}